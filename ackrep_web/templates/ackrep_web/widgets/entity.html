<script>          
    function setDefaultValue(id)
    {
      localStorage.setItem('status', id);
    }

    function getDefaultValue()
    { 
      var valId=localStorage.getItem('status'); 
      document.getElementById("valId").checked = true;
    //   localStorage.removeItem('status');
    }
</script>
{% if display == "full"%}
<script type="text/javascript">
    window.onload = function(){
        var valId=localStorage.getItem('status'); 
        document.getElementById(valId).checked = true;
        scrollTo(0, localStorage.getItem("scroll_y"))
    }
    window.onbeforeunload = function() {
        localStorage.setItem("scroll_y", scrollY)
    }
</script>

{% endif %}

<div class="entity">
    <b>Name:</b> {{entity.name}}
    (Key: <a href="{% url 'entity-detail' entity.key %}" title="show details">{{entity.key}}</a>)<br>
    <b>Path:</b> <tt>{{entity.base_path}}</tt>
    {% if c.source_code_link %}
            <a id="source_code_link" title="view on GitHub" href={{c.source_code_link}}>View on GitHub</a>
    {% endif %}
    <br>
    <b>Type:</b> {{entity.type}}<br>
    
    {% if display == "full"%}
    <!--utc_entity_full -->
    <b>Short Description:</b> {{entity.short_description}}<br>
    <b>Created:</b> {{entity.creation_date}}<br>
    {% if c.env_key %}
        <b>Compatible Environment:</b> {{c.env_name}} (Key: <a href="{% url 'entity-detail' c.env_key %}" title="show details">{{c.env_key}}</a>)<br>
    {% endif %}
    {% if c.source_code_container.object_list %}
    <b>Source Code</b>
    [<label for="show">
        <span class="fake_button">Show</span>
    </label>
    <input type=radio id="show" name="group" value="show" onchange="setDefaultValue('show');">
    /
    <label for="hide">
        <span class="fake_button"> Hide</span> 
    </label>    
    <input type=radio id="hide" name="group" value="hide" onchange="setDefaultValue('hide');">
    ]
    <span id="content">
        {% for obj in c.source_code_container.object_list %}
            <b>{{obj.file_name}}</b>
            
            <pre><code id="{{obj.id}}">{{obj.source_code}}</code></pre>
           
        {% endfor %}

    </span>
    <br>
    {% endif %}
{#--------------------------------------------------------------------------------------------------------------------#}
    {% if entity.type == "problem_solution"%}
        <b>Solved Problems:</b>
        {% for e in entity.oc.solved_problem_list %}
            {# TODO: add more information in mouseover #}
            <a href="{% url 'entity-detail' e.key %}" title="{{e.short_description}}">{{e.name}}</a> &nbsp; |  &nbsp;
        {% endfor %}
        <br>
        <b>Used Methods:</b>
        {% for e in entity.oc.method_package_list %}
            {# TODO: add more information in mouseover #}
            <a href="{% url 'entity-detail' e.key %}" title="{{e.short_description}}">{{e.name}}</a>
        {% endfor %}
        <br>
        <!--utc_entity_detial -->

        
        <b>Result:</b> <span class="result {{c.result_css_class}}">{{c.verbal_result}}</span><br>
        <b>Runtime:</b> {{c.diff_time_str}} (estimated: {{entity.estimated_runtime}})<br>
        {% if c.last_time_passing %}
            <div class="last_passing">
                <i>Entity passed last:</i> {{c.last_time_passing}}<br>
                <i>with ackrep_data commit:</i> {{c.logs.ackrep_data}}<br>
                <i>with ackrep_core commit:</i> {{c.logs.ackrep_core}}<br>
                <i>in environment:</i> {{c.logs.environment}}<br>
            </div>
        {% endif %}
        {% if c.image_list %}
            <b>Plot:</b><br>
            {% for image in c.image_list %}
                <img src="{{image}}"><!--utc_img_url:<{{image}}> --><br>
            {% endfor %}
        {% endif %}
        {% if c.show_debug %}
            <!--utc_debug -->
            <b>Debug:</b>
            <div class="debug_output">
                <pre>{{c.issues}}</pre>
            </div>
        {% endif %}


    {% elif entity.type == "problem_specification" %}
        <b>Available solutions:</b>
        {% for e in entity.available_solutions_list %}
            {# TODO: add more information in mouseover #}
            <br>
            <a href="{% url 'entity-detail' e.key %}" title="{{e.short_description}}">{{e.name}}</a>
        {% endfor %}
        <br>
        <b>Related System Models:</b>
        {% for e in entity.oc.related_system_models_list %}
            {# TODO: add more information in mouseover #}
            <br>
            <a href="{% url 'entity-detail' e.key %}" title="{{e.short_description}}">{{e.name}}</a>
        {% endfor %}
        <br>
    {% elif entity.type == "system_model" %}
        <b>Related Problems:</b>
        {% for e in entity.related_problems_list %}
            {# TODO: add more information in mouseover #}
            <br>
            <a href="{% url 'entity-detail' e.key %}" title="{{e.short_description}}">{{e.name}}</a>
        {% endfor %}
        <br>
        <b>Extensive Material:</b><br>
        {% for pdf in c.pdf_list %}
            <a href="{{pdf}}">Download pdf</a><br>
        {% endfor %}

        <!--utc_entity_detial -->

        <b>Runtime:</b> {{c.diff_time_str}}s (estimated: {{entity.estimated_runtime}})<br>
        <b>Result:</b> <span class="result {{c.result_css_class}}">{{c.verbal_result}}</span><br>
        {% if c.last_time_passing %}
            <div class="last_passing">
                <i>Entity passed last:</i> {{c.last_time_passing}}<br>
                <i>with data commit:</i> {{c.logs.ackrep_data}}<br>
                <i>with core commit:</i> {{c.logs.ackrep_core}}<br>
                <i>in environment:</i> {{c.logs.environment}}<br>
            </div>
        {% endif %}
        {% if c.image_list %}
            <b>Plot:</b><br>
            {% for image in c.image_list %}
                <img src="{{image}}"><!--utc_img_url:<{{image}}> --><br>
            {% endfor %}
        {% endif %}
        {% if c.show_debug %} 
            <!--utc_debug -->
            <b>Debug:</b>
            <div class="debug_output">
                <pre>{{c.issues}}</pre>
            </div>
        {% endif %}

    {% endif %} {#entity.type#}
{#--------------------------------------------------------------------------------------------------------------------#}




{% endif %} {#display full#}
</div>









